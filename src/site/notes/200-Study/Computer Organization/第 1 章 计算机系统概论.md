---
{"dg-publish":true,"permalink":"/200-Study/Computer Organization/第 1 章 计算机系统概论/","noteIcon":""}
---


# 第 1 章 计算机系统概论

<aside>
💡 系统复杂性管理的方法：
1. 抽象：简化细节描述
2. 3‘Y ：
    - 层次化（Hierachy）：将被设计的系统划分为多个模块或子模块
    - 模块化（Modularity）：有明确定义的功能和接口
    - 规则性（Regularity）：模块更容易被重用

</aside>

# 1.1 计算机系统简介

## 1.1.1 计算机的软硬件概念

计算机系统由硬件和软件两部分组成。

硬件：计算机实体部分，它由看得见摸得着的各种电子元器件和设备实物组成。

软件：它看不见摸不着，由人们事先编制的 具有各类特殊功能的程序（信息）组成。

软件通常分为两大类：系统软件和应用软件。

系统软件：又称为系统程序，主要用来管理整个计算机系统，监视服务，使系统资源得到合理调度，高速运行。它包括：标准程序库、语言处理程序、操作系统、服务程序、数据库管理程序、网络软件等。

应用软件：又称为应用程序，它是用户根据任务需要所编制的各种程序。

## 1.1.2 计算机系统的层次结构

计算机物理结构角度（从低到高）：物理层（Physics）→ 设备层（Devices）→ 模拟电路层（Analog Circuits）→ 数字电路层（Digital Circuits）→ 逻辑层（Logic）→ 微体系结构层（Micro-architecture）→ 体系结构层（Architecture）→ 操作系统层（Operating Systems）→ 应用软件层（Application Software)

程序员角度（从低到高）：

| 高级语言  | 虚拟机器 M4  | 用编译程序翻译成汇编语言程序 |
| ----- | -------- | -------------- |
| 汇编语言  | 虚拟机器 M3  | 用汇编程序翻译成机器语言程序 |
| 操作系统  | 虚拟机器 M2  | 用机器语言解释操作系统    |
| 机器语言  | 实际机器 M1  | 用微指令解释机器指令     |
| 微指令系统 | 微程序机器 M0 | 由由硬件直接执行微指令    |

## 1.1.3 计算机体系结构和计算机组成

计算机体系结构：程序员所见到的计算机系统的属性、概念性的结构与功能特性（指令系统、数据结构、寻址技术、I/O 机理）

计算机组成：实现计算机体系结构所体现的属性（具体指令的实现）

# 1.2 计算机的基本组成

## 1.2.1 冯 · 诺伊曼计算机的特点

1. 计算机由运算器、存储器、控制器、输入设备、输出设备五大部件组成
2. 指令和数据以同等地位存放于存储器内，并可按地址寻访
3. 指令和数据均用二进制数表示
4. 指令由操作码和地址码组成
5. 指令在存储器内按顺序存放（存储程序）
6. 以运算器为中心

![CO_1_01](https://image-1256466424.cos.accelerate.myqcloud.com/CO_1_01.png)

冯 · 诺伊曼计算机硬件框图

## 1.2.2 计算机的硬件框图

1. 以存储器微中心的计算机硬件框图

   ![CO_1_02](https://image-1256466424.cos.accelerate.myqcloud.com/CO_1_02.png)

2. 现代计算机硬件框图

![CO_1_03](https://image-1256466424.cos.accelerate.myqcloud.com/CO_1_03.png)

## 1.2.3 计算机的工作步骤

- 上机前的准备

  1. 建立数学模型
  2. 确定计算方法
  3. 编制解题程序：程序 —— 运算的全部步骤，指令 —— 每一个步骤

  ![CO_1_04](https://image-1256466424.cos.accelerate.myqcloud.com/CO_1_04.png)

- 计算机的工作过程
  1. 存储器：
     1. 存储元件：0/1
     2. 存储单元：存放一串二进制代码，每个存储单元赋予一个地址号
     3. 存储字：存储单元中二进制代码的组合
     4. 存储字长：存储单元中二进制代码的位数
     5. MAR 存储器地址寄存器：反映存储单元的个数
     6. MDR 存储器数据寄存器：反映存储字长，与存储单元长度相同

     ![CO_1_05](https://image-1256466424.cos.accelerate.myqcloud.com/CO_1_05.png)

  2. 运算器

     |      | ACC | MQ | X  |
     | ---- | --- | -- | -- |
     | 加法   | 被加数 |    | 加数 |
     | 减法   | 被减数 |    | 减数 |
     | 乘法   |     |    |    |
     | 乘积高位 | 乘数  |    |    |
     | 乘积低位 | 被乘数 |    |    |
     | 除法   | 被除数 |    |    |
     | 余数   |     |    |    |
     | 商    | 除数  |    |    |

     ![CO_1_06](https://image-1256466424.cos.accelerate.myqcloud.com/CO_1_06.png)

     - 加法操作过程：初始时，指令操作码为加法，指令地址码给出加数在内存中地址，ACC 中保存被加数

       | [M] → X           | 从内存中取出加数放到寄存器 X |
       | ----------------- | --------------- |
       | [ACC] + [X] → ACC | 被加数与加数相加        |
     - 减法操作过程：初始时，指令操作码为减法，指令地址码给出减数在内存中地址，ACC 中保存被减数

       | [M] → X           | 从内存中取出减数放到寄存器 X |
       | ----------------- | --------------- |
       | [ACC] - [X] → ACC | 被减数与减数相减        |
     - 乘法操作过程：初始时，指令操作码为乘法，指令地址码给出乘数在内存中地址，ACC 中保存被乘数

       | [M] → MQ               | 从内存中取出乘数放到寄存器 MQ         |
       | ---------------------- | ------------------------ |
       | [ACC] → X              | 将被乘数放到寄存器 X              |
       | 0 → ACC                | 将 ACC 清零，用于保存加法结果        |
       | [X] x [MQ] → ACC // MQ | 乘法计算，ACC 保存结果高位，MQ 保存结果低位 |
     - 除法操作过程：初始时，指令操作码为除法，指令地址码给出除数在内存中地址，ACC 中保存被除数

       | [M] → X               | 从内存中取出除数放到寄存器 X 中   |
       | --------------------- | ------------------- |
       | [ACC] / [X] → MQ//ACC | 除法计算，MQ 保存商，ACC 保存余数 |

  3. 控制器：
     - 控制器的功能：
       1. 解释指令
       2. 保证指令的按序执行
     - 控制器的基本组成

       完成一条指令过程：取指令，分析指令，执行指令

       - 程序计数器（Program Counter,，PC）：存放当前欲执行指令的地址，具有计数功能 [PC] + 1 → PC
       - 指令寄存器（Instruction Register，IR）：存放当前欲执行的指令
       - 控制单元（Control Unit，CU）

  4. 主机完成一条指令的过程
     - 取数指令
       - 取指令
         1. PC 将要指令地址码送给 MAR
         2. 再由 MAR 送给存储体
         3. 在控制器的控制下，存储体找到对应地址码的数据，并将其送到 MDR
         4. 最后将取出的指令由 MDR 送到 IR；
       - 分析指令
         1. 将 IR 中保存指令的操作码送给 CU
       - 执行指令
         1. 将 IR 中保存指令的地址码送给 MAR
         2. 再由 MAR 送给存储体
         3. 在控制器的控制下，存储体找到对应地址码的数据，并将其送到 MDR
         4. 最后将取出的数据由 MDR 送到 ACC；

       ![CO_1_07](https://image-1256466424.cos.accelerate.myqcloud.com/CO_1_07.png)

     - 存数指令
       - 取指令（同取数指令）
       - 分析指令（同取数指令）
       - 执行指令
         1. 将 IR 中保存指令的地址码送给 MAR
         2. 再由 MAR 送给存储体，指示数据存储地址
         3. 将 ACC 中的数据送给 MDR
         4. 在控制器的控制下将 MDR 中数据保存到 MAR 所指示的地址内
  5. $ax^2+bx+c$ 程序的运行过程
     - 将程序通过输入设备送至计算机
     - 程序首地址 → PC
     - 启动程序运行
     - 取数指令
       - 取指令 PC → MAR → M → MDR → IR，(PC) + 1 → PC
       - 分析指令 OP(IR) → CU
       - 执行指令 Ad(ID) → MAR → M → MDR → ACC
     - …
     - 打印结果

# 1.3 计算机硬件的主要技术指标

- 机器字长：CPU 一次能处理数据的位数，与 CPU 中的寄存器位数有关
- 运算速度：
  - 主频：CPU 频率
  - 核数，每个核支持的线程数
  - 吉普森法

  ![CO_1_08](https://image-1256466424.cos.accelerate.myqcloud.com/CO_1_08.png)

  - **CPI** ：执行一条指令所需时钟周期数
  - IPC
  - **MIPS**：每秒执行百万条指令
  - **FLOPS**：每秒浮点运算次数
- 存储容量：存放二进制信息的总位数
  - 主存容量：存储单元个数 x 存储字长（如：1 K x 8 位），或用字节数表示（如：256 KB）
  - 辅存容量：字节数表示（如：80 G）
